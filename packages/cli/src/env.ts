// Generated by polka.codes
// This module centralizes environment variable access and provides TypeScript types

import type { AiProvider } from './getModel'

/**
 * Environment variables used by the CLI
 */
export interface Env {
  /** The default AI service provider to use */
  POLKA_API_PROVIDER?: AiProvider
  /** The default model to use for the selected provider */
  POLKA_MODEL?: string
  /** The API key for the default provider */
  POLKA_API_KEY?: string
  /** Maximum budget in dollars for AI service usage */
  POLKA_BUDGET?: string
  /** API key for Anthropic */
  ANTHROPIC_API_KEY?: string
  /** API key for DeepSeek */
  DEEPSEEK_API_KEY?: string
  /** API key for OpenRouter */
  OPENROUTER_API_KEY?: string
  /** API key for OpenAI */
  OPENAI_API_KEY?: string
  /** API key for Google */
  GOOGLE_API_KEY?: string
  /** The file to write tracing information to */
  TRACING_FILE?: string
}

/**
 * Get environment variables, optionally overriding process.env
 */
export function getEnv(override?: Partial<Env>): Env {
  return {
    POLKA_API_PROVIDER: process.env.POLKA_API_PROVIDER as AiProvider | undefined,
    POLKA_MODEL: process.env.POLKA_MODEL,
    POLKA_API_KEY: process.env.POLKA_API_KEY,
    POLKA_BUDGET: process.env.POLKA_BUDGET,
    ANTHROPIC_API_KEY: process.env.ANTHROPIC_API_KEY,
    DEEPSEEK_API_KEY: process.env.DEEPSEEK_API_KEY,
    OPENROUTER_API_KEY: process.env.OPENROUTER_API_KEY,
    OPENAI_API_KEY: process.env.OPENAI_API_KEY,
    GOOGLE_API_KEY: process.env.GOOGLE_API_KEY,
    TRACING_FILE: process.env.TRACING_FILE,
    ...override,
  }
}

export default getEnv
