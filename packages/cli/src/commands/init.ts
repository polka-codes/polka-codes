/**
 * Initialize polkacodes configuration command.
 * Generated by polka.codes
 */

import { Command } from 'commander'
import { runWorkflowV2 } from '../runWorkflowV2'
import { initWorkflow } from '../workflows/init.workflow'

export const initCommand = new Command('init')
  .description('Initialize polkacodes configuration')
  .option('-g, --global', 'Use global config')
  .action(async (options, command: Command) => {
    await runWorkflowV2(
      'init',
      initWorkflow,
      command,
      {
        global: options.global,
        parentOptions: command.parent?.opts() ?? {},
      },
      false,
    )
  })
